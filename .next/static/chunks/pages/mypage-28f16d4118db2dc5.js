(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{1249:(e,o,t)=>{"use strict";t.d(o,{db:()=>s,j:()=>a});var r=t(6042),n=t(9834),i=t(2964);let d=(0,r.Dk)().length?(0,r.Dk)()[0]:(0,r.Wp)({apiKey:"AIzaSyDGIRoQ7XG8SPUwYZI22bM6ahBqHqCESOI",authDomain:"chat-next-app-75486.firebaseapp.com",projectId:"chat-next-app-75486",storageBucket:"chat-next-app-75486.appspot.com",messagingSenderId:"699078787230",appId:"1:699078787230:web:5af28b86d937f5c553bb8f",measurementId:"G-NE519J21D1"}),a=(0,n.xI)(d),s=(0,i.aU)(d)},4472:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>s});var r=t(7876),n=t(4232),i=t(9834),d=t(1249),a=t(9099);function s(){let[e,o]=(0,n.useState)(null),[t,s]=(0,n.useState)(!1),[l,p]=(0,n.useState)(""),c=(0,a.useRouter)();if((0,n.useEffect)(()=>{let e=(0,i.hg)(d.j,e=>{e?(o(e),p(e.displayName||"")):c.push("/login")});return()=>e()},[c]),!e)return null;let x=async()=>{if(!l.trim())return void alert("ユーザー名を入力してください");try{await (0,i.r7)(d.j.currentUser,{displayName:l.trim()}),alert("ユーザー名を更新しました！"),o({...e,displayName:l.trim()}),s(!1)}catch(e){console.error("更新エラー:",e),alert("ユーザー名の更新に失敗しました")}};return(0,r.jsxs)("div",{style:{minHeight:"100vh",backgroundColor:"#36393f",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 20px",backgroundColor:"#2f3136",borderBottom:"1px solid #202225",boxShadow:"0 1px 0 rgba(4,4,5,0.2), 0 1.5px 0 rgba(6,6,7,0.05), 0 2px 0 rgba(4,4,5,0.05)"},children:[(0,r.jsx)("h2",{style:{margin:0,fontSize:18,fontWeight:600,color:"#ffffff"},children:"\uD83D\uDEE0️ プロフィール設定"}),(0,r.jsx)("button",{onClick:()=>c.push("/"),style:{backgroundColor:"#40444b",color:"#dcddde",border:"none",padding:"8px 16px",borderRadius:"4px",fontSize:14,fontWeight:500,cursor:"pointer",transition:"background-color 0.17s ease"},onMouseOver:e=>e.target.style.backgroundColor="#4f545c",onMouseOut:e=>e.target.style.backgroundColor="#40444b",children:"← チャットへ戻る"})]}),(0,r.jsxs)("div",{style:{padding:"40px 20px",maxWidth:"600px",margin:"0 auto"},children:[(0,r.jsxs)("div",{style:{backgroundColor:"#2f3136",borderRadius:"8px",padding:"32px",marginBottom:"24px",boxShadow:"0 2px 10px rgba(0,0,0,0.2)"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"20px",marginBottom:"32px"},children:[(0,r.jsx)("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"#5865f2",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"32px",fontWeight:"600",color:"white"},children:(e.displayName||"匿").charAt(0).toUpperCase()}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{style:{margin:"0 0 4px 0",fontSize:"24px",fontWeight:"600",color:"#ffffff"},children:e.displayName||"匿名"}),(0,r.jsx)("p",{style:{margin:0,fontSize:"16px",color:"#b9bbbe"},children:e.email})]})]}),(0,r.jsxs)("div",{style:{backgroundColor:"#40444b",borderRadius:"8px",padding:"20px"},children:[(0,r.jsx)("label",{style:{display:"block",color:"#b9bbbe",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",marginBottom:"8px",letterSpacing:"0.5px"},children:"表示名"}),t?(0,r.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"flex-end"},children:[(0,r.jsx)("div",{style:{flex:1},children:(0,r.jsx)("input",{type:"text",value:l,onChange:e=>p(e.target.value),placeholder:"新しいユーザー名",style:{width:"100%",padding:"12px",backgroundColor:"#36393f",border:"1px solid #72767d",borderRadius:"4px",color:"#dcddde",fontSize:"16px",outline:"none",boxSizing:"border-box"}})}),(0,r.jsx)("button",{onClick:x,style:{backgroundColor:"#3ba55c",color:"white",border:"none",padding:"12px 20px",borderRadius:"4px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"background-color 0.17s ease"},onMouseOver:e=>e.target.style.backgroundColor="#2d7d32",onMouseOut:e=>e.target.style.backgroundColor="#3ba55c",children:"保存"}),(0,r.jsx)("button",{onClick:()=>{s(!1),p(e.displayName||"")},style:{backgroundColor:"#747f8d",color:"white",border:"none",padding:"12px 20px",borderRadius:"4px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"background-color 0.17s ease"},onMouseOver:e=>e.target.style.backgroundColor="#5c6269",onMouseOut:e=>e.target.style.backgroundColor="#747f8d",children:"キャンセル"})]}):(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsx)("span",{style:{fontSize:"16px",color:"#dcddde",padding:"12px 0"},children:e.displayName||"匿名"}),(0,r.jsx)("button",{onClick:()=>s(!0),style:{backgroundColor:"#5865f2",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"background-color 0.17s ease"},onMouseOver:e=>e.target.style.backgroundColor="#4752c4",onMouseOut:e=>e.target.style.backgroundColor="#5865f2",children:"編集"})]})]})]}),(0,r.jsxs)("div",{style:{backgroundColor:"#2f3136",borderRadius:"8px",padding:"24px",boxShadow:"0 2px 10px rgba(0,0,0,0.2)"},children:[(0,r.jsx)("h3",{style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:"600",color:"#ffffff"},children:"アカウント情報"}),(0,r.jsxs)("div",{style:{padding:"16px",backgroundColor:"#40444b",borderRadius:"4px"},children:[(0,r.jsx)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:(0,r.jsx)("span",{style:{color:"#b9bbbe",fontSize:"14px",fontWeight:"500"},children:"メールアドレス"})}),(0,r.jsx)("span",{style:{color:"#dcddde",fontSize:"16px"},children:e.email})]})]})]})]})}},6952:(e,o,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/mypage",function(){return t(4472)}])}},e=>{e.O(0,[671,661,200,636,593,792],()=>e(e.s=6952)),_N_E=e.O()}]);